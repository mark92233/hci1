<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trabahanap</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="images/trLogo.png">
</head>
<body>
  <div class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <img src="images/trLogo.png" alt="Logo" class="logo-img"/>
    </div>
    <ul>
      <li onclick="showSection('report-handling')">
        <img src="images/danger.png" alt="Report Handling">
        <span>Reports</span>
      </li>
      <li onclick="showSection('accept-accounts')">
        <img src="images/yes.png" alt="Accept Accounts">
        <span>Requests</span>
      </li>
      <li onclick="showSection('find-job')">
        <img src="images/job (2).png" alt="Find Job">
        <span>Job</span>
      </li>
      <li onclick="showSection('look-client')">
        <img src="images/find-client (1).png" alt="Look for Client">
        <span>Workman</span>
      </li>
      <li onclick="showSection('chat')">
        <img src="images/chat.png" alt="Chat">
        <span>Chat</span>
      </li>
      <li onclick="showSection('profile')">
        <img src="images/account.png" alt="Profile">
        <span>Profile</span>
      </li>
    </ul>
  </div>  

  <div class="main-content">

    <!-- Accept Accounts -->
    <section id="accept-accounts" class="content-section" style="display: none;">
      <h1 style="justify-self: center; font-size: 40px; margin-top: -3%; margin-bottom: 2%; color: #7D0A0A; letter-spacing: 2px;">Accept Accounts</h1>
      <div id="account-requests"><p>Loading account requests...</p></div>
    </section>

       <!-- Report Handling -->
       <section id="report-handling" class="content-section">
        <h1 style="justify-self: center; font-size: 40px; margin-top: -3%; margin-bottom: 2%; color: #7D0A0A; letter-spacing: 2px;">Report Handling</h1>
        <div id="report-listContainer" class="report-listContainer"></div>
      </section>
    <!-- Find Job -->
    <section id="find-job" class="content-section" style="display: none;">
      <h1 style="justify-self: center; font-size: 40px; margin-top: -3%; margin-bottom: 2%; color: #7D0A0A; letter-spacing: 2px;">Look for Freelancer</h1>
      <div class="controls">
        <input type="text" class="search-bar" placeholder="Search..." onkeyup="searchPosts(this)">
        <div class="filter">
          <label>Filter by College:</label>
          <select onchange="filterByCollege(this)">
            <option value="">All Colleges</option>
            <option value="computing studies">College of Computing Studies</option>
            <option value="liberal arts">College of Liberal Arts</option>
            <option value="engineering">College of Engineering</option>
            <option value="architecture">College of Architecture</option>
          </select>
        </div>
      </div>
      <button onclick="openAddPostModal('find-job')" class="addpost">Add Post</button>
      <div class="posts" id="find-job-posts"></div>
    </section>

    <!-- Look for Client -->
    <section id="look-client" class="content-section" style="display: none;">
      <h1 style="justify-self: center; font-size: 40px; margin-top: -3%; margin-bottom: 2%; color: #7D0A0A; letter-spacing: 2px;">Look for Client</h1>
      <div class="controls">
        <input type="text" class="search-bar" placeholder="Search..." onkeyup="searchPosts(this)">
        <div class="filter">
          <label>Filter by College:</label>
          <select onchange="filterByCollege(this)">
            <option value="">All Colleges</option>
            <option value="computing studies">College of Computing Studies</option>
            <option value="liberal arts">College of Liberal Arts</option>
            <option value="engineering">College of Engineering</option>
            <option value="architecture">College of Architecture</option>
          </select>
        </div>
      </div>
      <button onclick="openAddPostModal('look-client')" class="addpost">Add Post</button>
      <div class="posts" id="look-client-posts"></div>
    </section>

      <!-- Chat -->
<section id="chat" class="content-section" style="display: none;">
  <h1 style="justify-self: center; font-size: 40px; margin-top: -3%; margin-bottom: 2%; color: #7D0A0A; letter-spacing: 2px;">Chats</h1>
  <div class="chat-container">
    <div class="chat-list" id="chat-list"></div>
    <div class="chat-box-wrapper">
      <div class="chat-box" id="chat-box"><p>Select a conversation</p></div>
      <div class="chat-input" id="chat-input-area">
        <input type="text" id="messageInput" placeholder="Type a message...">
        <button onclick="sendMessage()">Send</button>
        <div id="chat-disabled-msg" style="display: none; text-align: center; color: red; margin-top: 10px;">
          ðŸš« This conversation has been marked as done. You can no longer send messages.
        </div>
      </div>
    </div>
  </div>
</section>


    <!-- Profile -->
    <section id="profile" class="content-section" style="display: none;">
      <div class="profileContainer profile-modern">
        <div class="profileCard">
          <img src="images/pro.png" alt="Profile" class="profileAvatar">
          <div class="profileDetails">
            <p class="profileHandle">@ae202404556</p>
            <div class="profileStats">
              <span><strong>4.5</strong> Average Rating</span>
              <span><strong>85</strong> Done Deals</span>
            </div>
            <p class="profileName">User One Name</p>
            <p class="profileCollege">College Of Computing Studies</p>
          </div>
        </div>
    
        <!-- Transaction Listings Section -->
        <div class="transactionListings">
          <h3>Ongoing Deals</h3>
          <div class="transactionCard" style="display: flex; gap: 50px; border-radius: 20px; border: 2px solid gray; padding: 10px;">
            <img src="images/pro.png" alt="Freelancer Profile" class="transactionAvatar">
            <div class="transactionInfo">
              <p><strong>Name:</strong>Juan Dela Cruz</p>
              <p><strong>Job Title:</strong> Graphic Designer</p>
            </div>
            <div class="transactionActions">
              <button onclick="openCustomModal('doneModal')">Set as Done</button>
              <button onclick="openCustomModal('suspendModal')">Suspend</button>
              <button onclick="openChat('Juan Dela Cruz')">Contact</button>
            </div>
          </div>
          <div class="transactionCard"  style="display: flex; gap: 50px; border-radius: 20px; border: 2px solid gray; padding: 10px;">
            <img src="images/pro.png" alt="Freelancer Profile" class="transactionAvatar">
            <div class="transactionInfo">
              <p><strong>Name:</strong> Luzviminda Reyes</p>
              <p><strong>Job Title:</strong> Graphic Designer</p>
            </div>
            <div class="transactionActions">
              <button onclick="openCustomModal('doneModal')">Set as Done</button>
              <button onclick="openCustomModal('suspendModal')">Suspend</button>
              <button onclick="openChat('Luzviminda Reyes')">Contact</button>
            </div>
          </div>
          <div class="transactionCard"  style="display: flex; gap: 50px; border-radius: 20px; border: 2px solid gray; padding: 10px;">
            <img src="images/pro.png" alt="Freelancer Profile" class="transactionAvatar">
            <div class="transactionInfo">
              <p><strong>Name:</strong> Carmen Rosales</p>
              <p><strong>Job Title:</strong> Graphic Designer</p>
            </div>
            <div class="transactionActions">
              <button onclick="openCustomModal('doneModal')">Set as Done</button>
              <button onclick="openCustomModal('suspendModal')">Suspend</button>
              <button onclick="openChat('Carmen Rosales')">Contact</button>
            </div>
          </div>
          <div class="transactionCard"  style="display: flex; gap: 50px; border-radius: 20px; border: 2px solid gray; padding: 10px;">
            <img src="images/pro.png" alt="Freelancer Profile" class="transactionAvatar">
            <div class="transactionInfo">
              <p><strong>Name:</strong> Isabelo delos Reyes</p>
              <p><strong>Job Title:</strong> Graphic Designer</p>
            </div>
            <div class="transactionActions">
              <button onclick="openCustomModal('doneModal')">Set as Done</button>
              <button onclick="openCustomModal('suspendModal')">Suspend</button>
              <button onclick="openChat('Isabelo delos Reyes')">Contact</button>
            </div>
          </div>
        </div>
    
        <!-- Done Modal -->
        <div id="doneModal" class="custom-modal">
          <span class="custom-close" onclick="closeCustomModal('doneModal')">&times;</span>
          <div class="custom-modal-header">Rate the Freelancer</div>
        
          <label class="custom-label" for="custom-rating">Rating (1â€“5):</label>
          <input type="number" id="custom-rating" min="1" max="5" class="custom-input" />
        
          <label class="custom-label" for="custom-feedback">Feedback:</label>
          <textarea id="custom-feedback" rows="4" placeholder="Write your feedback..." class="custom-input"></textarea>
        
          <button class="custom-button" onclick="submitDoneModal()">Submit</button>
        </div>
        
    
        <!-- Suspend Modal -->
        <div id="suspendModal" class="custom-modal">
          <span class="custom-close" onclick="closeCustomModal('suspendModal')">&times;</span>
          <div class="custom-modal-header">Suspend Transaction</div>
        
          <label class="custom-label" for="custom-reason">Reason for Suspension:</label>
          <select id="custom-reason" class="custom-input">
            <option value="">-- Select Reason --</option>
            <option value="delayed">Delayed Submission</option>
            <option value="no-response">No Response</option>
            <option value="unsatisfactory">Unsatisfactory Work</option>
          </select>
        
          <label class="custom-label" for="custom-explanation">Additional Explanation:</label>
          <textarea id="custom-explanation" rows="3" placeholder="Provide details..." class="custom-input"></textarea>
        
          <button class="custom-button" onclick="submitSuspendModal()">Submit</button>
        </div>
        
    
        <div class="logoutButtonContainer">
          <button onclick="logout()">Logout</button>
        </div>
      </div>
    </section>
    
    </div>

  <!-- Modals for Posting and Viewing -->
  <div id="postModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <form id="postForm">
        <div id="dynamicFields"></div>
        <button type="submit">Submit Post</button>
      </form>
    </div>
  </div>

  <div id="reportModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeReportModal()">&times;</span>
      <h3>Report User</h3>
      <form id="reportForm">
        <label>Select an offense:</label><br>
        <input type="radio" name="offense" value="Harassment" required> Harassment<br>
        <input type="radio" name="offense" value="Spam" required> Spam<br>
        <input type="radio" name="offense" value="Other Misconduct" required> Other Misconduct<br><br>
        <button type="submit">Submit Report</button>
      </form>
    </div>
  </div>

  <div id="viewModal" class="modal" style="display: none; justify-content: center; align-items: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
    <div class="modal-content" style="background: white; padding: 20px; border-radius: 10px; max-width: 500px; width: 90%; position: relative;">
      <span class="close" onclick="closeViewModal()" style="position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer;">&times;</span>
      <div id="viewModalBody"></div>
    </div>
  </div>
  <!-- Chat Report Modal -->
<div class="modal" id="chatReportModal" style="display: none;">
  <div class="modal-content" style="width: 400px;">
    <span class="close" onclick="closeChatReportModal()">&times;</span>
    <h3>Report User</h3>
    <form id="chatReportForm">
      <label>Select an offense:</label><br>
      <input type="radio" name="offense" value="Harassment" required> Harassment<br>
      <input type="radio" name="offense" value="Spam" required> Spam<br>
      <input type="radio" name="offense" value="Inappropriate Content" required> Inappropriate Content<br><br>
      <button type="submit">Submit Report</button>
    </form>
  </div>
</div>
<!-- Modal -->
<div id="modal">
  <div id="modal-content"></div>
</div>


<div id="dealModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; 
    background-color:rgba(0,0,0,0.5); justify-content:center; align-items:center;">
  <div style="background:white; padding:20px; border-radius:10px; text-align:center;">
    <h3>Confirm Deal</h3>
    <p>Are you sure you want to set a deal with <span id="dealUser"></span>?</p>
    <button onclick="confirmDeal()">Yes, Confirm</button>
    <button onclick="closeDealModal()">Cancel</button>
  </div>
</div>
<!-- Report Post Modal -->
<div id="postReportModal" class="modal">
  <div class="modal-content" style="max-width: 500px;">
    <span class="close" onclick="closePostReportModal()">&times;</span>
    <div id="postReportBody"></div>
  </div>
</div>

<div id="chatReportModal" class="modal">
  <div class="modal-content" style="max-width: 500px;">
    <span class="close" onclick="closeChatReportModal()">&times;</span>
    <div id="chatReportBody"></div>
  </div>
</div>

<div id="viewProfileModal" class="modal" style="display: none; justify-content: center; align-items: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
  <div class="modal-content" style="background: white; padding: 20px; border-radius: 12px; max-width: 400px; width: 90%; position: relative;">
    <span class="close" onclick="closeProfileModal()" style="position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer;">&times;</span>
    <div id="profileModalContent"></div>
  </div>
</div>


<div id="logoutModal" class="modal" >
  <div class="custom-modal-content"  style="background: white; padding: 20px; border-radius: 12px; max-width: 400px; width: 90%; position: relative;">
    <span class="custom-close" onclick="closeCustomModal('logoutModal')">&times;</span>
    <h2>Confirm Logout</h2>
    <p>Are you sure you want to logout?</p>
    <div class="custom-modal-buttons">
      <button class="custom-button cancel" onclick="closeCustomModal('logoutModal')">Cancel</button>
      <button class="custom-button confirm" onclick="confirmLogout()">Logout</button>
    </div>
  </div>
</div>

<div class="modal" id="accountRejectModal" style="display: none;">
  <div class="modal-content" style="width: 400px;">
    <span class="close" onclick="closeAccountRejectModal()">&times;</span>
    <h3>Reject Account</h3>
    <form id="chatReportForm">
      <label>Select a Reason:</label><br>
      <input type="radio" name="offense" value="Harassment" required>Invalid Inputs<br>
      <input type="radio" name="offense" value="Spam" required> ID picture not clear<br>
      <input type="radio" name="offense" value="Inappropriate Content" required> Invalid User ID<br><br>
      <button type="submit" onclick="closeAccountRejectModal()">Email to applicant</butotton>
    </form>
  </div>
</div>

<div class="modal" id="accountAcceptModal" style="display: none;">
  <div class="modal-content" style="width: 400px;">
    <span class="close" onclick="closeAccountAcceptModal()">&times;</span>
    <h3>Account Accepted</h3>
    <p>The account applicant has been accepted and marked as valid.</p>
    <button onclick="sendEmailVerification()" style="margin-left: 20%;">Send Email Verification</button>
  </div>
</div>

<div class="modal" id="accountOverlayModal" style="display: none;">
  <div class="modal-content" style="width: 700px; max-width: 90%; font-size: 1.2rem;">
    <span class="close" onclick="closeAccountOverlayModal()">&times;</span>
    <h3>Account Request</h3>
    <p>Name: Mark John S. Ando</p>
    <p>Email: ae202403655@wmsu.edu.ph</p>
    <p>College: Computing Studies</p>
    <p>ID picture:</p>
    <div style="display: flex; gap: 10px; margin-bottom: 10px;">
      <img src="images/ID front.jpg" alt="ID Front" style="width: 300px; height: auto; border: 1px solid #ccc;">
      <img src="images/ID back.jpg" alt="ID Back" style="width: 300px; height: auto; border: 1px solid #ccc;">
    </div>
  </div>
</div>

<div class="modal" id="accountOverlayModal1" style="display: none;">
  <div class="modal-content" style="width: 700px; max-width: 90%; font-size: 1.2rem;">
    <span class="close" onclick="closeAccountOverlayModal()">&times;</span>
    <h3>Account Request</h3>
    <p>Name: Mark John S. Ando</p>
    <p>Email: ae202403655@wmsu.edu.ph</p>
    <p>College: Computing Studies</p>
    <p>ID picture:</p>
    <div style="display: flex; gap: 10px; margin-bottom: 10px;">
      <img src="images/front1.jpg" alt="ID Front" style="width: 300px; height: auto; border: 1px solid #ccc;">
      <img src="images/back2.jpg" alt="ID Back" style="width: 300px; height: auto; border: 1px solid #ccc;">
    </div>
  </div>
</div>
  <script src="script.js"></script>
</body>
</html>
