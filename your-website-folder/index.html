<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trabahanap</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <img src="images/trLogo.png" alt="Logo" class="logo-img"/>
    </div>
    
    <ul>
      <li onclick="showSection('find-job')">
        <img src="images/job (2).png" alt="Find Job">
        <span>Job</span>
      </li>
      <li onclick="showSection('look-client')">
        <img src="images/find-client (1).png" alt="Look for Client">
        <span>Workman</span>
      </li>
      <li onclick="showSection('chat')">
        <img src="images/chat.png" alt="Chat">
        <span>Chat</span>
      </li>
      <li onclick="showSection('profile')">
        <img src="images/account.png" alt="Profile">
        <span>Profile</span>
      </li>
    </ul>
  </div>
  
<!-- Main Content -->
<div class="main-content">

  <!-- Find Job -->
  <section id="find-job" class="content-section">
    <h1 style="justify-self: center; font-size: 40px; margin-top: -3%; margin-bottom: 2%; color: #7D0A0A; letter-spacing: 2px;">Find Job</h1>
    <div class="controls">
      <input type="text" class="search-bar" placeholder="Search..." onkeyup="searchPosts(this)">
      <div class="filter">
        <label>Filter by College:</label>
        <select onchange="filterByCollege(this)">
          <option value="">All Colleges</option>
          <option value="computing studies">College of Computing Studies</option>
          <option value="liberal arts">College of Liberal Arts</option>
          <option value="engineering">College of Engineering</option>
          <option value="architecture">College of Architecture</option>
          <option value="public administration">College of Public Administration</option>
          <option value="teacher education">College of Teacher Education</option>
          <option value="home economics">College of Home Economics</option>
          <option value="nursing">College of Nursing</option>
          <option value="law">College of Law</option>
          <option value="criminal justice">College of Criminal Justice Education</option>
          <option value="medicine">College of Medicine</option>
          <option value="asian islamic studies">College of Asian Islamic Studies</option>
          <option value="social work">College of Social Work and Development</option>
          <option value="sports science">College of Sports Science and Phisical Education</option>
          <option value="science and mathematics">College of Science and Mathematics</option>
        </select>
      </div>
    </div>
    <button onclick="openAddPostModal('find-job')" class="addpost">Add Post</button>
    <div class="posts" id="find-job-posts"></div>
  </section>

  <!-- Look for Client -->
  <section id="look-client" class="content-section" style="display: none;">
    <h1 style="justify-self: center; font-size: 40px; margin-top: -3%; margin-bottom: 2%; color: #7D0A0A; letter-spacing: 2px;">Look for Client</h1>
    <div class="controls">
      <input type="text" class="search-bar" placeholder="Search..." onkeyup="searchPosts(this)">
      <div class="filter">
        <label>Filter by College:</label>
        <select onchange="filterByCollege(this)">
          <option value="">All Colleges</option>
          <option value="computing studies">College of Computing Studies</option>
          <option value="liberal arts">College of Liberal Arts</option>
          <option value="engineering">College of Engineering</option>
          <option value="architecture">College of Architecture</option>
          <option value="public administration">College of Public Administration</option>
          <option value="teacher education">College of Teacher Education</option>
          <option value="home economics">College of Home Economics</option>
          <option value="nursing">College of Nursing</option>
          <option value="law">College of Law</option>
          <option value="criminal justice">College of Criminal Justice Education</option>
          <option value="medicine">College of Medicine</option>
          <option value="asian islamic studies">College of Asian Islamic Studies</option>
          <option value="social work">College of Social Work and Development</option>
          <option value="sports science">College of Sports Science and Phisical Education</option>
          <option value="science and mathematics">College of Science and Mathematics</option>
        </select>
      </div>
    </div>
    <button onclick="openAddPostModal('look-client')" class="addpost">Add Post</button>
    <div class="posts" id="look-client-posts"></div>
  </section>

      <!-- Chat -->
      <section id="chat" class="content-section" style="display: none;">
        <h1 style="justify-self: center; font-size: 40px; margin-top: -3%; margin-bottom: 2%; color: #7D0A0A; letter-spacing: 2px;">Chats</h1>
        <div class="chat-container">
          <div class="chat-list" id="chat-list"></div>
          <div class="chat-box-wrapper">
            <div class="chat-box" id="chat-box"><p>Select a conversation</p></div>
            <div class="chat-input" id="chat-input-area">
              <input type="text" id="messageInput" placeholder="Type a message...">
              <button onclick="sendMessage()">Send</button>
              <div id="chat-disabled-msg" style="display: none; text-align: center; color: red; margin-top: 10px;">
                ðŸš« This conversation has been marked as done. You can no longer send messages.
              </div>
            </div>
          </div>
        </div>
      </section>

  <!-- Profile -->
  <section id="profile" class="content-section" style="display: none;">
    <div class="profileContainer profile-modern">
      <div class="profileCard">
        <img src="avatar.png" alt="Profile" class="profileAvatar">
        <div class="profileDetails">
          <p class="profileHandle">@ae202404556</p>
          <div class="profileStats">
            <span><strong>3</strong> Posts</span>
            <span><strong>85</strong> Credit Score</span>
          </div>
          <p class="profileName">User One Name</p>
          <p class="profileCollege">College Of Computing Studies</p>
        </div>
      </div>

      <div id="transaction-listings" class="transaction-list">
        <h2>Ongoing Transactions</h2>
      
        <div class="transaction-card">
          <img src="freelancer.jpg" alt="Freelancer Profile" class="freelancer-photo">
          <div class="transaction-details">
            <h3>John Doe</h3>
            <p>Web Developer</p>
            <div class="transaction-actions">
              <button onclick="openRateModal()">Set as Done</button>
              <button onclick="openSuspendModal()">Suspend</button>
              <button onclick="openChat('John Doe')">Chat</button>
            </div>
          </div>
        </div>
      </div>

      <div class="tabContent" id="profile-posts">
        <div class="gridPhotos">
          <img src="img1.jpg" alt="">
          <img src="img2.jpg" alt="">
          <img src="img3.jpg" alt="">
        </div>
      </div>

      <div class="tabContent" id="profile-schedules" style="display: none;">
        <p style="text-align:center;">No schedules yet.</p>
      </div>

      <div class="logoutButtonContainer">
        <button onclick="logout()">Logout</button>
      </div>
    </div>
  </section>

</div>

<!-- Modals -->
<div id="postModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <form id="postForm">
      <div id="dynamicFields"></div>
      <button type="submit">Submit Post</button>
    </form>
  </div>
</div>

<!-- Modals for Posting and Viewing -->
<div id="postModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <form id="postForm">
      <div id="dynamicFields"></div>
      <button type="submit">Submit Post</button>
    </form>
  </div>
</div>

<div id="reportModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeReportModal()">&times;</span>
    <h3>Report User</h3>
    <form id="reportForm">
      <label>Select an offense:</label><br>
      <input type="radio" name="offense" value="Harassment" required> Harassment<br>
      <input type="radio" name="offense" value="Spam" required> Spam<br>
      <input type="radio" name="offense" value="Other Misconduct" required> Other Misconduct<br><br>
      <button type="submit">Submit Report</button>
    </form>
  </div>
</div>

<!-- Modal Structure -->
<div id="viewModal" class="modal" style="display: none; justify-content: center; align-items: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
  <div class="modal-content" style="background: white; padding: 20px; border-radius: 10px; max-width: 500px; width: 90%; position: relative;">
    <span class="close" onclick="closeViewModal()" style="position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer;">&times;</span>
    <div id="viewModalBody"></div>
  </div>
</div>
<!-- Chat Report Modal -->
<div class="modal" id="chatReportModal" style="display: none;">
<div class="modal-content" style="width: 400px;">
  <span class="close" onclick="closeChatReportModal()">&times;</span>
  <h3>Report User</h3>
  <form id="chatReportForm">
    <label>Select an offense:</label><br>
    <input type="radio" name="offense" value="Harassment" required> Harassment<br>
    <input type="radio" name="offense" value="Spam" required> Spam<br>
    <input type="radio" name="offense" value="Inappropriate Content" required> Inappropriate Content<br><br>
    <button type="submit">Submit Report</button>
  </form>
</div>
</div>

<!-- Report Post Modal -->
<div id="postReportModal" class="modal">
<div class="modal-content" style="max-width: 500px;">
  <span class="close" onclick="closePostReportModal()">&times;</span>
  <div id="postReportBody"></div>
</div>
</div>

<div id="chatReportModal" class="modal">
<div class="modal-content" style="max-width: 500px;">
  <span class="close" onclick="closeChatReportModal()">&times;</span>
  <div id="chatReportBody"></div>
</div>
</div>


<div id="viewProfileModal" class="modal" style="display: none; justify-content: center; align-items: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
  <div class="modal-content" style="background: white; padding: 20px; border-radius: 12px; max-width: 400px; width: 90%; position: relative;">
    <span class="close" onclick="closeProfileModal()" style="position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer;">&times;</span>
    <div id="profileModalContent"></div>
  </div>
</div>

<!-- Rate Modal -->
<div id="rate-modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('rate-modal')">&times;</span>
    <h3>Rate Freelancer</h3>
    <label>Stars:</label>
    <select>
      <option>5 - Excellent</option>
      <option>4 - Good</option>
      <option>3 - Fair</option>
      <option>2 - Poor</option>
      <option>1 - Bad</option>
    </select>
    <textarea placeholder="Write your feedback here..."></textarea>
    <button>Submit Rating</button>
  </div>
</div>

<!-- Suspend Modal -->
<div id="suspend-modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('suspend-modal')">&times;</span>
    <h3>Suspend Transaction</h3>
    <label>Reason:</label>
    <select>
      <option>Inappropriate behavior</option>
      <option>Work not delivered</option>
      <option>Other</option>
    </select>
    <textarea placeholder="Optional additional comments..."></textarea>
    <button>Submit Suspension</button>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>
